# 字典和集合

> 几种数据类型在内存中的访问方式
>
> - 直接访问：数字
>- 顺序访问：字符串 列表 元组
> - 映射访问：字典

## 字典

> ### dict
>
> 可迭代类型 可变类型 无序类型
> 一系列键值对key-value用冒号分割，格式如下：
>
> ```python
> d = {'key1' : 'value1', 'key2' : 'value2' }
> ```
>
> key必须是**不可变类型**的数据（否则报错unhashable）
>
> value可以是任意数据类型
>
> 如果key使用布尔值会被转换为1和0

在python3.6以上版本中，字典默认按插入的顺序排列了键值对。

在python3.8以上版本中，字典可以使用 `reversed()`按插入顺序反向迭代

### 索引

#### in成员运算符

```python
'key1' in d #判断键是否存在 返回布尔值
```

#### getitem操作

```python
>>> d['key1']
'value1'
```

#### setitem操作

```python
d['key1'] = 'debu'
```

### 有关的内置函数

`len(dict)`返回键的数目

`zip()`以拉链法**惰性**生成键值对：`('a','b','c'),(1,2,3)` ->`[('a',1),('b',2)('c',3)]`

`dict()` 以键值对生成字典：`[('a',1),('b',2),('c',3)]` -> `{'a':1,'b':2,'c':3}`

### 常用方法

`dict.fromkeys(可迭代对象,value)`静态方法生成字典，所有键的值都为value

`.copy()` 浅拷贝

#### 增删改查

`.setdefault(key, value)`已存在则返回已存在的value，不存在则设置。

`.update(key=value)` `.update(dict)`设置，已存在则覆，这里可对比下一章节函数的剩余参数。

`.pop(key, None)`删除并返回其value，不存在则返回第二个参数，第二个参数默认为None。

`.popitem()`随机删一个并返回其键值对。

`.clear()`清空。

`del d[key1]`  删除一组键值对。

`.get(key, None)`查找 不存在则返回第二个参数 默认为None。

`.items()`返回键值对组成的列表。功能与`dict()`相反。

`.keys()`返回键组成的列表。

`.values()`返回值组成的列表。



## 集合

> ### set
> 可迭代类型  可变类型 无序类型  ,  元素不重复
>
> 生成方式:
>
> 1. `{1,2,3,4,5}`
> 2. `set(可迭代对象)`


::: tip 规范的初始化
创建一个空字典或空集合的时候使用`dict()`和`set()`

而不是使用`{}`
:::


### 增删方法

```python
s1.add(p_obj)
s1.update(s2) 
s.claer()#清空
s.pop()#随机删除一个并返回其值
s.remove(value) #删除 没有=>报错
s.discard(value)#删除 没有不报错
```
### 浅拷贝

```python
s.copy()          #如果是list直接使用切片就可以浅拷贝arr2=arr[:]
```
### 集合之间运算

|          |        |                             |
| :------- | :----- | :-------------------------- |
| 交集     | s1&s2  | s1.intersection(s2)         |
| 并集     | s1\|s2 | s1.union(s2)                |
| 差集     | s1-s2  | s1.difference(s2)           |
| 交叉补集 |        | s1.symmetric_difference(s2) |

```python
s1.issubset(s2)   #s1是否是s2子集
s1.issuperset(s2)   #s1是否是s2超集
s1.intersection_update(s2)  
s1.difference_update(s2)
s1.symmetric_difference_update(s2)
```
内置函数 `set()`和 `frozenset()`分别用来生成可变和不可变的集合